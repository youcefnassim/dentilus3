<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bright Smile Dental Clinic</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="logo">
            <img src="logo.jpg" alt="Bright Smile Dental Clinic" class="logo-image">
            <h1>Bright Smile</h1>
            <p>Gestion de cabinet dentaire</p>
        </div>
        
        <ul class="menu">
            <li><a href="Accueil.html"><i class="fas fa-home"></i> <span>Accueil</span></a></li>
            <li><a href="services.html"><i class="fas fa-stethoscope"></i> <span>Services</span></a></li>
            <li><a href="temoignages.html"><i class="fas fa-quote-left"></i> <span>Témoignages</span></a></li>
            <li><a href="ordonnance.html"><i class="fas fa-prescription"></i> <span>Ordonnances</span></a></li>
            <li><a href="médicaments.html"><i class="fas fa-pills"></i> <span>Médicaments</span></a></li>
            <li><a href="traitement.html"><i class="fas fa-teeth"></i> <span>Traitements</span></a></li>
            <li><a href="travauxode.html"><i class="fas fa-tooth"></i> <span>Travaux ODE</span></a></li>
            <li><a href="laboratoire.html"><i class="fas fa-flask"></i> <span>Laboratoire</span></a></li>
            <li><a href="Rdvs.html"><i class="fas fa-calendar-alt"></i> <span>RDVs</span></a></li>
            <li><a href="galerie.html"><i class="fas fa-images"></i> <span>La Galerie</span></a></li>
            <li><a href="complément.html"><i class="fas fa-chart-bar"></i> <span>Complément</span></a></li>
            <li><a href="statistique.html"><i class="fas fa-chart-line"></i> <span>Statistique</span></a></li>
            <li><a href="paramètres.html"><i class="fas fa-cog"></i> <span>Paramètres</span></a></li>
            <li><a href="documentation.html" class="active"><i class="fas fa-book"></i> <span>Documentation</span></a></li>
            <li><a href="medecin/login.php"><i class="fas fa-user-md"></i> <span>Espace Médecin</span></a></li>
        </ul>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <div class="header">
            <div class="header-left">
                <h2>Bright Smile - Cabinet Dentaire</h2>
                <div class="current-time-display">
                    <i class="fas fa-clock"></i>
                    <span class="current-time">--:--</span>
                </div>
            </div>
            <div class="user-info">
                <img src="https://ui-avatars.com/api/?name=Dr+Dentiste&background=1976d2&color=fff" alt="Docteur">
                <div>
                    <div>Dr. AYAD SOUMIA</div>
                    <small>Dentiste</small>
                    <div class="status-indicator status-online"></div>
                </div>
                <a href="index-public.html" class="public-site-link" title="Voir le site public">
                    <i class="fas fa-external-link-alt"></i>
                </a>
            </div>
        </div>

        <div class="dashboard">
            <div class="card">
                <div class="card-header">
                    <h3>Patients</h3>
                    <i class="fas fa-user-injured"></i>
                </div>
                <div class="stat">784</div>
                <p class="stat-desc">Patients enregistrés</p>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3>Médicaments</h3>
                    <i class="fas fa-pills"></i>
                </div>
                <div class="stat">47</div>
                <p class="stat-desc">Médicaments en stock</p>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3>Ordonnances</h3>
                    <i class="fas fa-prescription"></i>
                </div>
                <div class="stat">18</div>
                <p class="stat-desc">Modèles d'ordonnance</p>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3>Traitements</h3>
                    <i class="fas fa-teeth"></i>
                </div>
                <div class="stat">23</div>
                <p class="stat-desc">Traitements en cours</p>
            </div>
        </div>

        <div class="dashboard">
            <div class="card">
                <div class="card-header">
                    <h3>RDA/Appecihal</h3>
                    <i class="fas fa-teeth-open"></i>
                </div>
                <div class="stat">12</div>
                <p class="stat-desc">Rendez-vous aujourd'hui</p>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3>Revenu</h3>
                    <i class="fas fa-euro-sign"></i>
                </div>
                <div class="stat">4,850€</div>
                <p class="stat-desc">Revenu du mois</p>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3>Dépenses</h3>
                    <i class="fas fa-money-bill-wave"></i>
                </div>
                <div class="stat">1,230€</div>
                <p class="stat-desc">Dépenses du mois</p>
            </div>
        </div>

        <!-- Section Services Modernes -->
        <div class="content">
            <div class="section-header">
                <h2>Nos Services Modernes</h2>
                <p>Découvrez nos spécialités en dentisterie esthétique et moderne</p>
            </div>
            
            <div class="services-preview">
                <div class="bright-smile-card">
                    <div class="service-icon">
                        <i class="fas fa-gem"></i>
                    </div>
                    <h3 class="service-title">Dentisterie Esthétique</h3>
                    <p class="service-description">
                        Blanchiment, facettes et couronnes pour un sourire parfait
                    </p>
                    <a href="services.html" class="btn-bright-smile">Découvrir</a>
                </div>

                <div class="bright-smile-card">
                    <div class="service-icon">
                        <i class="fas fa-tooth"></i>
                    </div>
                    <h3 class="service-title">Implants Dentaires</h3>
                    <p class="service-description">
                        Remplacement de dents avec des implants de dernière génération
                    </p>
                    <a href="services.html" class="btn-bright-smile">Découvrir</a>
                </div>

                <div class="bright-smile-card">
                    <div class="service-icon">
                        <i class="fas fa-smile"></i>
                    </div>
                    <h3 class="service-title">Orthodontie</h3>
                    <p class="service-description">
                        Aligneurs invisibles et bagues pour un alignement parfait
                    </p>
                    <a href="services.html" class="btn-bright-smile">Découvrir</a>
                </div>
            </div>
        </div>

        <!-- Section de recherche et filtres -->
        <div class="filter-section">
            <div class="filter-row">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Rechercher un patient..." id="patientSearch">
                </div>
                <select id="statusFilter">
                    <option value="">Tous les statuts</option>
                    <option value="waiting">En attente</option>
                    <option value="in-progress">En cours</option>
                    <option value="completed">Terminé</option>
                </select>
                <button class="btn-primary" onclick="addNewPatient()">
                    <i class="fas fa-plus"></i> Nouveau Patient
                </button>
            </div>
        </div>

        <div class="waiting-room">
            <div class="waiting-room-header">
                <h3><i class="fas fa-clock"></i> Salle d'attente</h3>
                <div class="waiting-stats">
                    <span class="badge badge-info">4 patients</span>
                    <span class="badge badge-warning">2 urgences</span>
                </div>
            </div>
            <div class="patient-list">
                <div class="patient-card card-with-actions">
                    <div class="card-actions">
                        <button class="card-action-btn" onclick="editPatient('Marie Lambert')" title="Modifier">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="card-action-btn" onclick="deletePatient('Marie Lambert')" title="Supprimer">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                    <h4>Marie Lambert</h4>
                    <p><i class="far fa-clock"></i> Attend depuis: 15 min</p>
                    <p><i class="fas fa-stethoscope"></i> Motif: Contrôle annuel</p>
                    <div class="patient-priority">
                        <span class="badge badge-success">Normal</span>
                    </div>
                </div>
                <div class="patient-card card-with-actions">
                    <div class="card-actions">
                        <button class="card-action-btn" onclick="editPatient('Pierre Dubois')" title="Modifier">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="card-action-btn" onclick="deletePatient('Pierre Dubois')" title="Supprimer">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                    <h4>Pierre Dubois</h4>
                    <p><i class="far fa-clock"></i> Attend depuis: 5 min</p>
                    <p><i class="fas fa-stethoscope"></i> Motif: Détartrage</p>
                    <div class="patient-priority">
                        <span class="badge badge-success">Normal</span>
                    </div>
                </div>
                <div class="patient-card card-with-actions">
                    <div class="card-actions">
                        <button class="card-action-btn" onclick="editPatient('Julie Moreau')" title="Modifier">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="card-action-btn" onclick="deletePatient('Julie Moreau')" title="Supprimer">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                    <h4>Julie Moreau</h4>
                    <p><i class="far fa-clock"></i> Attend depuis: 25 min</p>
                    <p><i class="fas fa-stethoscope"></i> Motif: Urgence dentaire</p>
                    <div class="patient-priority">
                        <span class="badge badge-error">Urgent</span>
                    </div>
                </div>
                <div class="patient-card card-with-actions">
                    <div class="card-actions">
                        <button class="card-action-btn" onclick="editPatient('Thomas Bernard')" title="Modifier">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="card-action-btn" onclick="deletePatient('Thomas Bernard')" title="Supprimer">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                    <h4>Thomas Bernard</h4>
                    <p><i class="far fa-clock"></i> Attend depuis: 10 min</p>
                    <p><i class="fas fa-stethoscope"></i> Motif: Plombage</p>
                    <div class="patient-priority">
                        <span class="badge badge-warning">Moyen</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section des alertes -->
        <div class="alert alert-info">
            <i class="fas fa-info-circle"></i>
            <span>3 nouveaux patients ont été ajoutés aujourd'hui. Vérifiez leurs dossiers.</span>
        </div>

        <div class="footer">
            <p>Avec <span class="highlight">Bright Smile</span> votre cabinet désormais bien organisé</p>
            <p>© 2025 Bright Smile Dental Clinic - Tous droits réservés</p>
        </div>
    </div>

    <script src="script.js"></script>
    <!-- Slide booking panel -->
    <style>
    .slide-panel{position:fixed;right:-420px;top:0;width:400px;height:100%;background:#fff;box-shadow:-4px 0 12px rgba(0,0,0,.15);transition:right .28s ease;padding:20px;z-index:9999;overflow:auto}
    .slide-panel.open{right:0}
    .slide-panel .close{position:absolute;left:8px;top:8px;border:0;background:#eee;padding:6px 10px;border-radius:4px;cursor:pointer}
    .slide-panel h3{margin-top:10px}
    .slide-panel form input,.slide-panel form textarea,.slide-panel form select{width:100%;padding:8px;margin:6px 0;border:1px solid #ddd;border-radius:4px}
    .slide-panel form button{background:#1976d2;color:#fff;padding:10px 14px;border:0;border-radius:4px;cursor:pointer}
    .open-booking-btn{position:fixed;right:20px;bottom:30px;background:#1976d2;color:#fff;padding:12px 16px;border-radius:40px;box-shadow:0 6px 18px rgba(25,118,210,.25);z-index:9998;border:0;cursor:pointer}
    </style>

    <button class="open-booking-btn" onclick="toggleSlideBooking()" title="Prendre rendez-vous"><i class="fas fa-calendar-plus"></i></button>
    <div id="slideBooking" class="slide-panel" aria-hidden="true">
        <button class="close" onclick="toggleSlideBooking()">✕</button>
        <h3>Prendre un rendez-vous</h3>
        <form id="bookingForm">
            <input name="name" placeholder="Nom complet" required>
            <input name="phone" placeholder="Téléphone" required>
            <input name="email" type="email" placeholder="Email (optionnel)">
            <input name="date" type="date" required>
            <input name="time" type="time" required>
            <input name="motif" placeholder="Motif / Remarques">
            <button type="submit">Réserver</button>
        </form>
        <div id="bookingMsg" style="margin-top:12px"></div>
    </div>
    <script>
    function toggleSlideBooking(){const p=document.getElementById('slideBooking');p.classList.toggle('open');p.setAttribute('aria-hidden',!(p.classList.contains('open')))}
    document.getElementById('bookingForm').addEventListener('submit',async function(e){
        e.preventDefault();
        const form = e.target;
        const name = form.name.value.trim();
        const phone = form.phone.value.trim();
        const date = form.date.value;
        const time = form.time.value;
        const email = form.email.value.trim();
        const motif = form.motif.value.trim();
        const msgEl = document.getElementById('bookingMsg');
        msgEl.style.color = '#000';
        // client-side validation
        if(!name || !phone || !date || !time){ msgEl.textContent = 'Veuillez remplir les champs obligatoires.'; msgEl.style.color='#b00'; return; }
        if(email && !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)){ msgEl.textContent='Email invalide'; msgEl.style.color='#b00'; return; }
        const fd = new FormData(form);
        const submitBtn = form.querySelector('button[type="submit"]');
        submitBtn.disabled = true; msgEl.textContent = 'Envoi en cours...';
        try{
            const res = await fetch('medecin/api/appointments.php',{method:'POST',body:fd});
            const json = await res.json();
            if(json.success){ msgEl.textContent = 'Rendez-vous créé — le médecin sera notifié.'; msgEl.style.color='green'; form.reset(); }
            else { msgEl.textContent = json.error || 'Erreur serveur'; msgEl.style.color='#b00'; }
        }catch(err){ msgEl.textContent='Erreur réseau'; msgEl.style.color='#b00'; }
        submitBtn.disabled = false;
    });

    // Ouvrir automatiquement le slide si on arrive avec #openBooking
    window.addEventListener('DOMContentLoaded', function(){
        try{
            if(window.location.hash === '#openBooking'){
                setTimeout(function(){ if(typeof toggleSlideBooking === 'function') toggleSlideBooking(); }, 120);
            }
        }catch(e){console.error(e)}
    });
    </script>
</body>
</html>